<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/Game.js | Big League Baseball</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A port of the 3M Sports board game"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Big League Baseball"><meta property="twitter:description" content="A port of the 3M Sports board game"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/J3Productions/big-league-baseball"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Catcher.js~Catcher.html">Catcher</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Game.js~Game.html">Game</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Infielder.js~Infielder.html">Infielder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Outfielder.js~Outfielder.html">Outfielder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/PinchHitter.js~PinchHitter.html">PinchHitter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Pitcher.js~Pitcher.html">Pitcher</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Player.js~Player.html">Player</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/PositionPlayer.js~PositionPlayer.html">PositionPlayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ReliefPitcher.js~ReliefPitcher.html">ReliefPitcher</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Team.js~Team.html">Team</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/UtilityInfielder.js~UtilityInfielder.html">UtilityInfielder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/UtilityOutfielder.js~UtilityOutfielder.html">UtilityOutfielder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BackGround">BackGround</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BackGroundOnload">BackGroundOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BallBackOnload">BallBackOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BallOnload">BallOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BaseChangeOnload">BaseChangeOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterHitOnload">BatterHitOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterSwingOutOnload">BatterSwingOutOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterSwingStrikeOnload">BatterSwingStrikeOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterTakeOnload">BatterTakeOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterWaitOnload">BatterWaitOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-PitcherPitchOnload">PitcherPitchOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-PitcherWaitOnload">PitcherWaitOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-SwitchSide">SwitchSide</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-SwitchSideOnload">SwitchSideOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-batterSound">batterSound</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawPitchHit">drawPitchHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawSwingOut">drawSwingOut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawSwingStrike">drawSwingStrike</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawTakeBall">drawTakeBall</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-strikeBackOnload">strikeBackOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chHit">chHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chPit">chPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ciHit">ciHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ciPit">ciPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-clHit">clHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-clPit">clPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-coHit">coHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-coPit">coPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fhHit">fhHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fhPit">fhPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fiHit">fiHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fiPit">fiPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-flHit">flHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-flPit">flPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fsHit">fsHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fsPit">fsPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initBatter">initBatter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initSelectTeam">initSelectTeam</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initStartPage">initStartPage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-seeFiled">seeFiled</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-shHit">shHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-shPit">shPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-siHit">siHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-siPit">siPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-slHit">slHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-slPit">slPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ssHit">ssHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ssPit">ssPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-startGame">startGame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-take">take</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-runTests">runTests</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/Game.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&apos;use strict&apos;;
import { Team } from &quot;./Team.js&quot;;

/**
 * Game class - makes decisions and stores the game status based on player/user actions.
 */
export class Game {
	/**
	 * Constructor - creates and instantiates all necessary variables
	 * @param {string} playerTeam The team that the user will play as
	 */
	constructor(playerTeam) {

		/**
		 * The team the user will be playing for, either &quot;home&quot; or &quot;away&quot;.
		 * @type {string}
		 */
		this.playerTeam = playerTeam;

		/**
		 * Number of outs in the inning
		 * @type {number}
		 */
		this.outs = 0;
		/**
		 * Number of balls in the AB
		 * @type {number}
		 */
		this.balls = 0;
		/**
		 * Number of strikes in the AB
		 * @type {number}
		 */
		this.strikes = 0;
		/**
		 * First base - true if occupied, false otherwise
		 * @type {boolean}
		 */
		this.first = false;
		/**
		 * Second base - true if occupied, false otherwise
		 * @type {boolean}
		 */
		this.second = false;
		/**
		 * Third base - true if occupied, false otherwise
		 * @type {boolean}
		 */
		this.third = false;

		/**
		 * Home team object - stores all data for the home team
		 * @type {Team}
		 */
		this.homeTeam = new Team(&quot;home&quot;);
		/**
		 * Visitor team object - stores all data for the visiting team
		 * @type {Team}
		 */
		this.visitTeam = new Team(&quot;away&quot;);

		/**
		 * Position in the home team lineup that is at bat (or scheduled to bat next)
		 * @type {number}
		 */
		this.homeAB = 0;

		/**
		 * Position in the visiting team lineup that is at bat (or scheduled to bat next)
		 * @type {number}
		 */
		this.visitAB = 0;

		/**
		 * Inning number - this.inningSide denotes the top or the bottom of the inning
		 * @type {number}
		 */
		this.inning = 1;

		/**
		 * Top or the bottom of the inning - false denotes the top, true denotes the bottom.
		 * @type {boolean}
		 */
		this.inningSide = false;

		/**
		 * Object that stores the result of the last pitch thrown - what pitch it was, what the category of contact was, the resulting play, whether an out was made, whether a new at bat is starting, and whether a new half-innning is starting.
		 * @type {{pitch: string, swing: boolean, play: string, out: boolean, newAB: boolean, newInning: boolean, runsScored: number}}
		 */
		this.lastPitch = {
			pitch: &quot;&quot;,
			swing: false,
			play: &quot;&quot;,
			out: false,
			newAB: true,
			newInning: true,
			runsScored: 0,
			base1Change: false,
			base2Change: false,
			base3Change: false,
			base1to3: false
		};

		/**
		 * Boolean that shows if the game is over or not. True if game is over, false otherwise.
		 * @type {boolean}
		 */
		this.gameOver = false;
	}

	/*
	 * ss = Slow Straight
	 * si = Slow Inside
	 * sh = Slow High
	 * sl = Slow Low
	 * fs = Fastball Straigh
	 * fi = Fastball Inside
	 * fh = Fastball High
	 * fl = Fastball Low
	 * co = Curveball Outside
	 * ci = Curveball Inside
	 * ch = Curveball High
	 * cl = Curveball Low
	 */

	/**
	 * Pitcher throws a slowball straight pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	ssPitch(batter) {
		this.lastPitch.pitch = &quot;ss&quot;;
		switch (batter) {
			case &quot;ss&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;ss&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;ss&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit5();
				break;

			case &quot;si&quot;:
				this.hit4();
				break;

			case &quot;fs&quot;:
			case &quot;co&quot;:
				this.hit3();
				break;

			case &quot;sl&quot;:
			case &quot;ci&quot;:
				this.hit2();
				break;

			case &quot;fi&quot;:
				this.hit1();
				break;

			case &quot;sh&quot;:
			case &quot;fh&quot;:
			case &quot;fl&quot;:
				this.foul();
				break;

			case &quot;ch&quot;:
			case &quot;cl&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.calledStrike();
				break;
		}
	}

	/**
	 * Pitcher throws a slowball high pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	shPitch(batter) {
		this.lastPitch.pitch = &quot;sh&quot;;

		switch (batter) {
			case &quot;sh&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;sh&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;sh&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit3();
				break;

			case &quot;fh&quot;:
				this.hit2();
				break;

			case &quot;si&quot;:
			case &quot;fs&quot;:
			case &quot;ch&quot;:
				this.hit1();
				break;

			case &quot;ss&quot;:
			case &quot;fi&quot;:
			case &quot;ci&quot;:
				this.foul();
				break;

			case &quot;sl&quot;:
			case &quot;fl&quot;:
			case &quot;co&quot;:
			case &quot;cl&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.ball();
				break;
		}
	}

	/**
	 * Pitcher throws a slowball low pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	slPitch(batter) {
		this.lastPitch.pitch = &quot;sl&quot;;
		switch (batter) {
			case &quot;sl&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;sl&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;sl&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit3();
				break;

			case &quot;ss&quot;:
			case &quot;fl&quot;:
				this.hit2();
				break;

			case &quot;co&quot;:
			case &quot;cl&quot;:
				this.hit1();
				break;

			case &quot;si&quot;:
			case &quot;fs&quot;:
			case &quot;fi&quot;:
				this.foul();
				break;

			case &quot;sh&quot;:
			case &quot;fh&quot;:
			case &quot;ch&quot;:
			case &quot;ci&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.ball();
				break;
		}

	}

	/**
	 * Pitcher throws a slowball inside pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	siPitch(batter) {
		this.lastPitch.pitch = &quot;si&quot;;
		switch (batter) {
			case &quot;si&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;si&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;si&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit5();
				break;

			case &quot;ss&quot;:
				this.hit4();
				break;

			case &quot;fi&quot;:
			case &quot;ci&quot;:
				this.hit3();
				break;

			case &quot;sh&quot;:
			case &quot;sl&quot;:
			case &quot;fs&quot;:
				this.hit2();
				break;

			case &quot;fh&quot;:
			case &quot;fl&quot;:
			case &quot;co&quot;:
			case &quot;ch&quot;:
				this.foul();
				break;

			case &quot;cl&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.calledStrike();
				break;
		}
	}

	/**
	 * Pitcher throws a fastball straight pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	fsPitch(batter) {
		this.lastPitch.pitch = &quot;fs&quot;;
		switch (batter) {
			case &quot;fs&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;fs&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;fs&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit5();
				break;

			case &quot;fi&quot;:
				this.hit4();
				break;

			case &quot;ss&quot;:
			case &quot;fh&quot;:
			case &quot;ci&quot;:
				this.hit3();
				break;

			case &quot;co&quot;:
				this.hit2();
				break;

			case &quot;si&quot;:
				this.hit1();
				break;

			case &quot;sh&quot;:
			case &quot;sl&quot;:
			case &quot;fl&quot;:
				this.foul();
				break;

			case &quot;ch&quot;:
			case &quot;cl&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.calledStrike();
				break;
		}
	}

	/**
	 * Pitcher throws a fastball high pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	fhPitch(batter) {
		this.lastPitch.pitch = &quot;fh&quot;;
		switch (batter) {
			case &quot;fh&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;fh&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;fh&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit3();
				break;

			case &quot;fi&quot;:
				this.hit2();
				break;

			case &quot;sh&quot;:
			case &quot;ch&quot;:
			case &quot;ci&quot;:
				this.hit1();
				break;

			case &quot;si&quot;:
			case &quot;fs&quot;:
			case &quot;co&quot;:
				this.foul();
				break;

			case &quot;ss&quot;:
			case &quot;sl&quot;:
			case &quot;fl&quot;:
			case &quot;cl&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.ball();
				break;
		}
	}

	/**
	 * Pitcher throws a fastball low pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	flPitch(batter) {
		this.lastPitch.pitch = &quot;fl&quot;;
		switch (batter) {
			case &quot;fl&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;fl&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;fl&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit3();
				break;

			case &quot;fs&quot;:
				this.hit2();
				break;

			case &quot;sl&quot;:
			case &quot;co&quot;:
			case &quot;cl&quot;:
				this.hit1();
				break;

			case &quot;ss&quot;:
			case &quot;si&quot;:
			case &quot;fi&quot;:
				this.foul();
				break;

			case &quot;sh&quot;:
			case &quot;fh&quot;:
			case &quot;ch&quot;:
			case &quot;ci&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.ball();
				break;
		}
	}

	/**
	 * Pitcher throws a fastball inside pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	fiPitch(batter) {
		this.lastPitch.pitch = &quot;fi&quot;;
		switch (batter) {
			case &quot;fi&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;fi&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;fi&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit5();
				break;

			case &quot;fs&quot;:
				this.hit4();
				break;

			case &quot;si&quot;:
			case &quot;ci&quot;:
				this.hit3();
				break;

			case &quot;fl&quot;:
				this.hit2();
				break;

			case &quot;ss&quot;:
			case &quot;ch&quot;:
				this.hit1();
				break;

			case &quot;sh&quot;:
			case &quot;fh&quot;:
			case &quot;co&quot;:
			case &quot;cl&quot;:
				this.foul();
				break;

			case &quot;sl&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.calledStrike();
				break;
		}
	}

	/**
	 * Pitcher throws a curveball outside pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	coPitch(batter) {
		this.lastPitch.pitch = &quot;co&quot;;
		switch (batter) {
			case &quot;co&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;co&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;co&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit5();
				break;

			case &quot;fs&quot;:
				this.hit4();
				break;

			case &quot;ss&quot;:
				this.hit3();
				break;

			case &quot;ch&quot;:
				this.hit2();
				break;

			case &quot;fl&quot;:
			case &quot;fi&quot;:
			case &quot;cl&quot;:
				this.hit1();
				break;

			case &quot;sh&quot;:
			case &quot;sl&quot;:
				this.foul();
				break;

			case &quot;si&quot;:
			case &quot;fh&quot;:
			case &quot;ci&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.calledStrike();
				break;
		}
	}

	/**
	 * Pitcher throws a curveball high pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	chPitch(batter) {
		this.lastPitch.pitch = &quot;ch&quot;;
		switch (batter) {
			case &quot;ch&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;ch&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;ch&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit3();
				break;

			case &quot;ss&quot;:
			case &quot;sh&quot;:
			case &quot;si&quot;:
			case &quot;fh&quot;:
			case &quot;co&quot;:
				this.hit1();
				break;

			case &quot;fs&quot;:
			case &quot;ci&quot;:
				this.foul();
				break;

			case &quot;sl&quot;:
			case &quot;fl&quot;:
			case &quot;fi&quot;:
			case &quot;cl&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.ball();
				break;
		}
	}

	/**
	 * Pitcher throws a curveball low pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	clPitch(batter) {
		this.lastPitch.pitch = &quot;cl&quot;;
		switch (batter) {
			case &quot;cl&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;cl&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;cl&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit3();
				break;

			case &quot;co&quot;:
			case &quot;ci&quot;:
				this.hit2();
				break;

			case &quot;sl&quot;:
			case &quot;fl&quot;:
				this.hit1();
				break;

			case &quot;ss&quot;:
			case &quot;si&quot;:
			case &quot;fi&quot;:
				this.foul();
				break;

			case &quot;sh&quot;:
			case &quot;fs&quot;:
			case &quot;fh&quot;:
			case &quot;ch&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.ball();
				break;
		}
	}

	/**
	 * Pitcher throws a curveball inside pitch and the outcome is determined by the batter&apos;s action
	 * @param {string} batter The batter&apos;s action
	 */
	ciPitch(batter) {
		this.lastPitch.pitch = &quot;ci&quot;;
		switch (batter) {
			case &quot;ci&quot;:
				if (this.inningSide === false) {
					if (this.visitTeam.lineup[this.visitAB].getBatStrengths().includes(&quot;ci&quot;)) {
						this.hit6();
						break;
					}
				}
				else {
					if (this.homeTeam.lineup[this.homeAB].getBatStrengths().includes(&quot;ci&quot;)) {
						this.hit6();
						break;
					}
				}
				this.hit5();
				break;

			case &quot;fi&quot;:
				this.hit4();
				break;

			case &quot;si&quot;:
			case &quot;fs&quot;:
				this.hit3();
				break;

			case &quot;ss&quot;:
			case &quot;cl&quot;:
				this.hit2();
				break;

			case &quot;sh&quot;:
				this.hit1();
				break;

			case &quot;sl&quot;:
			case &quot;fh&quot;:
			case &quot;co&quot;:
			case &quot;ch&quot;:
				this.foul();
				break;

			case &quot;fl&quot;:
				this.swingingStrike();
				break;

			case &quot;take&quot;:
				this.calledStrike();
				break;
		}
	}


	/**
	 * Hit chart 1: Infield balls
	 */
	hit1() {
		this.lastPitch.swing = true;
		let roll = (Math.floor(Math.random() * 6) + 1) + (Math.floor(Math.random() * 6) + 1);
		switch (roll) {
			case 2:
				this.triplePlay();
				break;
			case 3:
			case 8:
				this.single();
				break;
			case 4:
			case 7:
				this.flyout();
				break;
			case 5:
				this.foulout();
				break;
			case 6:
			case 11:
				this.groundoutDoublePlay();
				break;
			case 9:
				this.groundout();
				break;
			case 10:
				this.fieldersChoice();
				break;
			case 12:
				this.error();
				break;
		}
	}

	/**
	 * Hit chart 2: Hits that fall over the infield, moderately hard hit grounders in the infield and fly balls that infielders go out for and outfielders come in for
	 */
	hit2() {
		this.lastPitch.swing = true;
		let roll = (Math.floor(Math.random() * 6) + 1) + (Math.floor(Math.random() * 6) + 1);
		switch (roll) {
			case 2:
			case 6:
				this.groundoutDoublePlay();
				break;
			case 3:
			case 8:
			case 10:
				this.flyout();
				break;
			case 4:
				this.groundoutAdvIfForced();
				break;
			case 5:
				this.foulout();
				break;
			case 7:
			case 9:
				this.single();
				break;
			case 11:
				this.groundout();
				break;
			case 12:
				this.error();
				break;
		}
	}

	/**
	 * Hit chart 3: Sharply hit balls through the infield and fly balls and hits to the outfield that go farther than chart 2 balls
	 */
	hit3() {
		this.lastPitch.swing = true;
		let roll = (Math.floor(Math.random() * 6) + 1) + (Math.floor(Math.random() * 6) + 1);
		switch (roll) {
			case 2:
			case 12:
				this.groundoutDoublePlay();
				break;
			case 3:
				this.single();
				break;
			case 4:
				this.groundoutAdvIfForced();
				break;
			case 5:
			case 7:
				this.flyoutAdv();
				break;
			case 8:
			case 10:
				this.singleRISP();
				break;
			case 9:
				this.fieldersChoice();
				break;
			case 11:
				this.errorSecond();
				break;
		}
	}

	/**
	 * Hit chart 4: Balls hit down the 1st and 3rd base lines and hard hit balls not going as far as those on chart 5
	 */
	hit4() {
		this.lastPitch.swing = true;
		let roll = (Math.floor(Math.random() * 6) + 1) + (Math.floor(Math.random() * 6) + 1);
		switch (roll) {
			case 2:
				this.homeRun();
				break;
			case 3:
				this.flyoutAdv();
				break;
			case 4:
				this.groundout();
				break;
			case 5:
				this.double();
				break;
			case 6:
			case 8:
				this.singleAdvance();
				break;
			case 7:
				this.flyoutNoAdv1st();
				break;
			case 9:
				this.singleRISP();
				break;
			case 10:
				this.groundoutDoublePlay();
				break;
			case 11:
				this.flyout();
				break;
			case 12:
				this.lineoutDoublePlay();
				break;
		}
	}

	/**
	 * Hit chart 5: Hard hit balls
	 */
	hit5() {
		this.lastPitch.swing = true;
		let roll = (Math.floor(Math.random() * 6) + 1) + (Math.floor(Math.random() * 6) + 1);
		switch (roll) {
			case 2:
				this.error();
				break;
			case 3:
			case 6:
				this.singleAdvance();
				break;
			case 4:
				this.double();
				break;
			case 5:
				this.flyoutAdv();
				break;
			case 7:
				this.flyoutNoAdv1st();
				break;
			case 8:
				this.groundout();
				break;
			case 9:
				this.homeRun();
				break;
			case 10:
				this.doubleClear();
				break;
			case 11:
				this.triple();
				break;
			case 12:
				this.lineoutDoublePlay();
				break;
		}
	}

	/**
	 * Hit chart 6: The most solidly hit balls and when hit for extra bases are the longest hit balls
	 */
	hit6() {
		this.lastPitch.swing = true;
		let roll = (Math.floor(Math.random() * 6) + 1) + (Math.floor(Math.random() * 6) + 1);
		switch (roll) {
			case 2:
				this.foulout();
				break;
			case 3:
				this.flyoutAdv();
				break;
			case 4:
			case 6:
				this.homeRun();
				break;
			case 5:
				this.flyoutNoAdv1st();
				break;
			case 7:
				this.double();
				break;
			case 8:
				this.triple();
				break;
			case 9:
				this.singleAdvance();
				break;
			case 10:
				this.single();
				break;
			case 11:
				this.doubleClear();
				break;
			case 12:
				this.groundout();
				break;
		}
	}

	/**
	 * Home run - clears the bases and adds one run for every runner
	 */
	homeRun() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;

		let numRuns = 0;
		if (this.third) {
			this.third = false;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			numRuns++;
		}
		if (this.first) {
			this.first = false;
			numRuns++;
		}
		numRuns++;

		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}

		this.newAB();
		this.lastPitch.play = &quot;homeRun&quot;;
		this.lastPitch.out = false;

		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Triple - clears the bases and batter ends up at third
	 */
	triple() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		if (this.third) {
			this.third = false;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			numRuns++;
		}
		if (this.first) {
			this.first = false;
			numRuns++;
		}
		this.third = true;
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}
		this.newAB();
		this.lastPitch.play = &quot;triple&quot;;
		this.lastPitch.out = false;

		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Bases-clearing double - clears the bases (runner at first scores) and batter ends up at second
	 */
	doubleClear() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		if (this.third) {
			this.third = false;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			numRuns++;
		}
		if (this.first) {
			this.first = false;
			numRuns++;
		}
		this.second = true;
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}
		this.newAB();
		this.lastPitch.play = &quot;doubleClear&quot;;
		this.lastPitch.out = false;

		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;

	}

	/**
	 * Double - runners at third and second score, runner at first goes to third, batter ends up at second
	 */
	double() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		if (this.third) {
			this.third = false;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			numRuns++;
		}
		if (this.first) {
			this.first = false;
			this.third = true;
			this.lastPitch.base1to3 = true;
		}
		this.second = true;
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}
		this.newAB();
		this.lastPitch.play = &quot;double&quot;;
		this.lastPitch.out = false;

		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Single - all runners advance one base, batter ends up at first
	 */
	single() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		if (this.third) {
		    this.third = false;
		    this.lastPitch.base3Change = true;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			this.third = true;
			this.lastPitch.base2Change = true;
		}
		if (this.first) {
			this.first = false;
			this.second = true;
			this.lastPitch.base1Change = true;
		}
		this.first = true;
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}
		this.newAB();
		this.lastPitch.play = &quot;single&quot;;
		this.lastPitch.out = false;

		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Single that scores runners in scoring postion - runners at third and second score, runner at first goes to second, batter ends up at first
	 */
	singleRISP() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		if (this.third) {
			this.third = false;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			numRuns++;
		}
		if (this.first) {
			this.first = false;
			this.second = true;
			this.lastPitch.base1Change = true;
		}
		this.first = true;
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}
		this.newAB();
		this.lastPitch.play = &quot;singleRISP&quot;;
		this.lastPitch.out = false;

		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Single that allows runner at first to go to third - runners at third and second score, runner at first goes to third, batter ends up at first
	 */
	singleAdvance() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		if (this.third) {
			this.third = false;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			numRuns++;
		}
		if (this.first) {
			this.first = false;
			this.third = true;
			this.lastPitch.base1to3 = true;
		}
		this.first = true;
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}
		this.newAB();
		this.lastPitch.play = &quot;singleAdvance&quot;;
		this.lastPitch.out = false;

		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Error - All runners move up a base, batter is safe at first in play that should&apos;ve resulted in an out
	 */
	error() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		if (this.third) {
		    this.third = false;
		    this.lastPitch.base3Change = true;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			this.third = true;
			this.lastPitch.base2Change = true;
		}
		if (this.first) {
			this.first = false;
			this.second = true;
			this.lastPitch.base1Change = true;
		}
		this.first = true;
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}
		this.newAB();
		this.lastPitch.play = &quot;error&quot;;
		this.lastPitch.out = false;

		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Batter pops out in foul territory - All runners hold
	 */
	foulout() {
		this.newAB();
		this.out(1);

		this.lastPitch.play = &quot;foulout&quot;;
		this.lastPitch.runsScored = 0;
	}

	/**
	 * Batter pops out - All runners hold
	 */
	flyout() {
		this.newAB();
		this.out(1);

		this.lastPitch.play = &quot;flyout&quot;;
		this.lastPitch.runsScored = 0;
	}

	/**
	 * Batter pops out - All runners advance one base
	 */
	flyoutAdv() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		this.newAB();
		if (this.third) {
		    this.third = false;
		    this.lastPitch.base3Change = true;
			if (this.outs &lt; 2)
				numRuns++;
		}
		if (this.second) {
			this.second = false;
			this.third = true;
			this.lastPitch.base2Change = true;
		}
		if (this.first) {
			this.first = false;
			this.second = true;
			this.lastPitch.base1Change = true;
		}
		this.out(1);
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}

		this.lastPitch.play = &quot;flyoutAdv&quot;;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Batter pops out - All runners (except runner at first) advance one base
	 */
	flyoutNoAdv1st() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		this.newAB();
		if (this.third) {
		    this.third = false;
		    this.lastPitch.base3Change = true;
			if (this.outs &lt; 2)
				numRuns++;
		}
		if (this.second) {
			this.second = false;
			this.third = true;
			this.lastPitch.base2Change = true;
		}
		this.out(1);
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}

		this.lastPitch.play = &quot;flyoutNoAdv1st&quot;;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Batter grounds out - All runners advance one base
	 */
	groundout() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		this.newAB();
		if (this.third) {
		    this.third = false;
		    this.lastPitch.base3Change = true;
			if (this.outs &lt; 2)
				numRuns++;
		}
		if (this.second) {
			this.second = false;
			this.third = true;
			this.lastPitch.base2Change = true;
		}
		if (this.first) {
			this.first = false;
			this.second = true;
			this.lastPitch.base1Change = true;
		}
		this.out(1);
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}

		this.lastPitch.play = &quot;groundout&quot;;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Batter grounds out - Runners hold unless they are forced to advance
	 */
	groundoutAdvIfForced() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		this.newAB();
		if (this.third &amp;&amp; this.second &amp;&amp; this.first) {
		    this.third = false;
		    this.lastPitch.base3Change = true;
			if (this.outs &lt; 2) {
				numRuns++;
			}
		}
		if (this.second &amp;&amp; this.first) {
			this.second = false;
			this.third = true;
			this.lastPitch.base2Change = true;
		}
		if (this.first) {
			this.first = false;
			this.second = true;
			this.lastPitch.base1Change = true;
		}
		this.out(1);
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}

		this.lastPitch.play = &quot;groundoutAdvIfForced&quot;;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Double play - Runner at first out and batter out
	 */
	groundoutDoublePlay() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		this.newAB();
		if (this.third) {
		    this.third = false;
		    this.lastPitch.base3Change = true;
			if (this.outs &lt; 1 &amp;&amp; !this.first) {
				numRuns++;
			}
			else if (this.outs &lt; 2) {
				numRuns++;
			}
		}
		if (this.second) {
			this.second = false;
			this.third = true;
			this.lastPitch.base2Change = true;
		}
		if (this.first) {
			this.first = false;
			this.out(2);
		}
		else {
			this.out(1);
		}
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}

		this.lastPitch.play = &quot;groundoutDoublePlay&quot;;
		this.lastPitch.runsScored = numRuns;
	}
	/**
	 * Double play - Lead runner and batter out
	 */
	lineoutDoublePlay() {
		this.newAB();
		if (this.third) {
			this.third = false;
			this.out(2);
		}
		else if (this.second) {
			this.second = false;
			this.out(2);
		}
		else if (this.first) {
			this.first = false;
			this.out(2);
		}
		else {
			this.out(1);
		}

		this.lastPitch.play = &quot;lineoutDoublePlay&quot;;
		this.lastPitch.runsScored = 0;
	}

	/**
	 * Triple play - Runners at first and second and batter out
	 */
	triplePlay() {
		this.newAB();
		if (this.second &amp;&amp; this.first) {
			this.second = false;
			this.first = false;
			this.out(3);
		}
		else if (this.second) {
			this.second = false;
			this.out(2);
		}
		else if (this.first) {
			this.first = false;
			this.out(2);
		}
		else {
			this.out(1);
		}
		this.lastPitch.play = &quot;triplePlay&quot;;
		this.lastPitch.runsScored = 0;
	}

	/**
	 * Fielder&apos;s choice - Runner advances only if forced and lead runner is out, batter out and runners hold otherwise
	 */
	fieldersChoice() {
		this.newAB();
		this.out(1);
		this.lastPitch.play = &quot;fieldersChoice&quot;;
		this.lastPitch.runsScored = 0;
	}

	/**
	 * Error - Runners at first and second advance 2 bases and batter ends up at second
	 */
	errorSecond() {
	    this.lastPitch.base1Change = false;
	    this.lastPitch.base2Change = false;
	    this.lastPitch.base3Change = false;
	    this.lastPitch.base1to3 = false;
		let numRuns = 0;
		if (this.third) {
		    this.third = false;
		    this.lastPitch.base3Change = true;
			numRuns++;
		}
		if (this.second) {
			this.second = false;
			numRuns++;
		}
		if (this.first) {
			this.first = false;
			this.third = true;
			this.lastPitch.base1to3 = true;
		}
		this.second = true;
		if (this.inningSide === false) {
			this.visitTeam.score(numRuns);
		}
		else {
			this.homeTeam.score(numRuns);
		}
		this.newAB();
		this.lastPitch.play = &quot;errorSecond&quot;;
		this.lastPitch.out = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Foul ball - only counts as a strike if there are less than 2 strikes
	 */
	foul() {
		if (this.strikes &lt; 2) {
		    this.strikes++;
		    this.lastPitch.play = &quot;foul&quot;;
		    this.lastPitch.out = false;
		    this.lastPitch.newAB = false;
		    this.lastPitch.newInning = false;
			this.lastPitch.runsScored = 0;
		}
	}

	/**
	 * Swinging Strike - Strike that is swung at, 3 strikes and you&apos;re out
	 */
	swingingStrike() {
		this.strikes++;
		if (this.strikes === 3) {
			this.strikes = 0;
			this.newAB();
			this.out(1);
			this.lastPitch.play = &quot;strikeoutSwinging&quot;;
		}
		else {
			this.lastPitch.play = &quot;swingingStrike&quot;;
			this.lastPitch.out = false;
			this.lastPitch.newAB = false;
			this.lastPitch.newInning = false;
		}
		this.lastPitch.runsScored = 0;
	}

	/**
	 * Called Strike - Strike that&apos;s taken, 3 strikes and you&apos;re out
	 */
	calledStrike() {
		this.strikes++;
		if (this.strikes === 3) {
			this.strikes = 0;
			this.newAB();
			this.out(1);
			this.lastPitch.play = &quot;strikeoutLooking&quot;;
		}
		else {
			this.lastPitch.play = &quot;calledStrike&quot;;
			this.lastPitch.out = false;
			this.lastPitch.newAB = false;
			this.lastPitch.newInning = false;
		}
		this.lastPitch.runsScored = 0;
	}

	/**
	 * Ball - 4 balls and it&apos;s a free pass on base
	 */
	ball() {
		let numRuns = 0;
		this.balls++;
		if (this.balls === 4) {
			this.balls = 0;
			if (this.third &amp;&amp; this.second &amp;&amp; this.first) {
				this.third = false;
				numRuns++;
			}
			if (this.second &amp;&amp; this.first) {
				this.second = false;
				this.third = true;
			}
			if (this.first) {
				this.first = false;
				this.second = true;
			}
			this.first = true;
			if (this.inningSide === false) {
				this.visitTeam.score(numRuns);
			}
			else {
				this.homeTeam.score(numRuns);
			}
			this.newAB();
			this.lastPitch.play = &quot;walk&quot;;
		}
		else {
			this.lastPitch.play = &quot;ball&quot;;
			this.lastPitch.newAB = false;
		}
		this.lastPitch.out = false;
		this.lastPitch.newInning = false;
		this.lastPitch.runsScored = numRuns;
	}

	/**
	 * Out - 3 Outs and that&apos;s the end of the inning
	 */
	out(num) {
		if (num === 1) {
			this.outs++;
		}
		else if (num === 2) {
			if (this.outs &lt; 2) {
				this.outs += 2;
			}
			else {
				this.outs++;
			}
		}
		else if (num === 3) {
			this.outs = 3;
		}

		if (this.outs === 3) {
			this.newInning();
		}
		else {
			this.lastPitch.newInning = false;
		}
		this.lastPitch.out = true;
	}

	/**
	 * Resets the game for a new at bat
	 */
	newAB() {
		this.balls = 0;
		this.strikes = 0;
		if (this.inningSide === false) {
			if (this.visitAB === 8) {
				this.visitAB = 0;
			}
			else {
				this.visitAB++;
			}
		}
		else {
			if (this.inning &gt;= 9 &amp;&amp; this.homeTeam.runs &gt; this.visitTeam.runs) {
				this.gameOver = true;
			}
			else {
				if (this.homeAB === 8) {
					this.homeAB = 0;
				}
				else {
					this.homeAB++;
				}
			}

		}

		this.lastPitch.newAB = true;
	}

	/**
	 * Resets the bases and outs for a new half-inning
	 */
	newInning() {
		this.first = false;
		this.second = false;
		this.third = false;
		this.outs = 0;
		if (this.inningSide === true &amp;&amp; this.inning &gt;= 9 &amp;&amp; this.visitTeam.runs &gt; this.homeTeam.runs) {
			this.gameOver = true;
		}
		else if (this.inningSide === false &amp;&amp; this.inning === 9 &amp;&amp; this.homeTeam.runs &gt; this.visitTeam.runs) {
			this.gameOver = true;
		}
		else {
			if (this.inningSide) {
				this.inning++;
			}
			this.inningSide = !this.inningSide;

		}
		this.lastPitch.newInning = true;

	}

	teamPointer(team) {
		if (team === &quot;home&quot;) {
			return this.homeTeam;
		}
		else {
			return this.visitTeam;
		}
	}


}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
