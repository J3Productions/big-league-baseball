<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/main.js | Big League Baseball</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A port of the 3M Sports board game"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Big League Baseball"><meta property="twitter:description" content="A port of the 3M Sports board game"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/J3Productions/big-league-baseball"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Catcher.js~Catcher.html">Catcher</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Game.js~Game.html">Game</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Infielder.js~Infielder.html">Infielder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Outfielder.js~Outfielder.html">Outfielder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/PinchHitter.js~PinchHitter.html">PinchHitter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Pitcher.js~Pitcher.html">Pitcher</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Player.js~Player.html">Player</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/PositionPlayer.js~PositionPlayer.html">PositionPlayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ReliefPitcher.js~ReliefPitcher.html">ReliefPitcher</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Team.js~Team.html">Team</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/UtilityInfielder.js~UtilityInfielder.html">UtilityInfielder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/UtilityOutfielder.js~UtilityOutfielder.html">UtilityOutfielder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BackGround">BackGround</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BackGroundOnload">BackGroundOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BallBackOnload">BallBackOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BallOnload">BallOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BaseChangeOnload">BaseChangeOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterHitOnload">BatterHitOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterSwingOutOnload">BatterSwingOutOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterSwingStrikeOnload">BatterSwingStrikeOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterTakeOnload">BatterTakeOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-BatterWaitOnload">BatterWaitOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-PitcherPitchOnload">PitcherPitchOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-PitcherWaitOnload">PitcherWaitOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-SwitchSide">SwitchSide</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-SwitchSideOnload">SwitchSideOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-batterSound">batterSound</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawPitchHit">drawPitchHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawSwingOut">drawSwingOut</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawSwingStrike">drawSwingStrike</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-drawTakeBall">drawTakeBall</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-strikeBackOnload">strikeBackOnload</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chHit">chHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chPit">chPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ciHit">ciHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ciPit">ciPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-clHit">clHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-clPit">clPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-coHit">coHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-coPit">coPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fhHit">fhHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fhPit">fhPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fiHit">fiHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fiPit">fiPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-flHit">flHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-flPit">flPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fsHit">fsHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fsPit">fsPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initBatter">initBatter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initSelectTeam">initSelectTeam</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-initStartPage">initStartPage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-seeFiled">seeFiled</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-shHit">shHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-shPit">shPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-siHit">siHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-siPit">siPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-slHit">slHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-slPit">slPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ssHit">ssHit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ssPit">ssPit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-startGame">startGame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-take">take</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-runTests">runTests</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/main.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import {Game} from &apos;./Game.js&apos;;
import {drawPitchHit, drawSwingOut, drawSwingStrike, drawTakeBall, batterSound, BackGroundOnload, SwitchSideOnload} from &apos;./Animation.js&apos;;



let game = null;
var side;
/**
 * Initializes game object and the gui
 * @param location {string} The side the user is playing on - &quot;home&quot; or &quot;away&quot;
 */
export function startGame(location) {
    game = new Game(location);
    side = location;
    BackGroundOnload(location);
    document.getElementById(&apos;uPlayBall&apos;).play();
    document.getElementById(&apos;c0&apos;).play();//Starts crowd noise
    loopCrowdChatter();//Calls to set the interval of the crowd noise loop.
    loopCrowdOrgan();//Call to loop clapping and organ music.
    if (location === &quot;home&quot;) {
        displayPitchMenu();
    }
    else {
        displayHitMenu();
    }
    drawScore();
}


/**
*   This method render the index.html with canvas. The size of canvas will auto change with user web browser size.
**/
export function initStartPage()
{
    var screenWidth = document.documentElement.clientWidth;
    var screenHeight = document.documentElement.clientHeight;
    var a = document.getElementById(&quot;startPage&quot;);
    a.width = (screenWidth * 0.99);
    a.height = (screenHeight * 0.97);

    var ctx = a.getContext(&quot;2d&quot;);
    var img = document.getElementById(&quot;startPic&quot;);
    ctx.drawImage(img,0,0, screenWidth, screenHeight);

    var button = document.getElementById(&quot;startGame&quot;);
    button.style.left = String(screenWidth * 0.45) + &quot;px&quot;;
    button.style.top = String(screenHeight * 0.60) + &quot;px&quot;;

    var title = document.getElementById(&quot;title&quot;);
    var input = document.getElementById(&quot;userName&quot;);
    var describe = document.getElementById(&quot;doc&quot;);
    title.style.left = String(screenWidth * 0.32) + &quot;px&quot;;
    title.style.top = String(screenHeight * 0.25) + &quot;px&quot;;
    input.style.left = String(screenWidth * 0.42) + &quot;px&quot;;
    input.style.top = String(screenHeight * 0.45) + &quot;px&quot;;
    describe.style.left = String(screenWidth * 0.425) + &quot;px&quot;;
    describe.style.top = String(screenHeight * 0.40) + &quot;px&quot;;
}


/**
*   This method render the batter view html page with canvas and two table represent the action opinions and game log. The size canvas will auto change with user web browser.
**/
export function initBatter()
{
    var screenWidth = document.documentElement.clientWidth;
    var screenHeight = document.documentElement.clientHeight;
    var a = document.getElementById(&quot;batterView&quot;);
    a.width = (screenWidth * 0.74);
    a.height = (screenHeight * 0.73);

    var ctx = a.getContext(&quot;2d&quot;);
    var img = document.getElementById(&quot;viewPic&quot;);
    //ctx.drawImage(img, 10, 10);

    var gamelog = document.getElementById(&quot;gameLog&quot;);
    gamelog.scrollTop = gamelog.scrollHeight;
    gamelog.style.height = (screenHeight * 0.725) + &quot;px&quot;;

    var action = document.getElementById(&quot;batterAction&quot;);
    action.style.height = (screenHeight * 0.245) + &quot;px&quot;;

    document.getElementById(&quot;gameLogTable&quot;).innerHTML = document.getElementById(&quot;gameLogTable&quot;).innerHTML + &quot;&lt;tr&gt;&lt;td&gt;Match start!&lt;/td&gt;&lt;/tr&gt;&quot; + &quot;&lt;tr&gt;&lt;td&gt;Decide your batter action.&lt;/td&gt;&lt;/tr&gt;&quot;;

    var PitcherPitchCanvas = document.getElementById(&quot;PitcherPitch&quot;);
    var BatterHitCanvas = document.getElementById(&quot;BatterHit&quot;);
    PitcherPitchCanvas.style.filter = &quot;opacity(0%)&quot;;
    PitcherPitchCanvas.style.WebkitFilter = &quot;opacity(0%)&quot;;
    BatterHitCanvas.style.filter = &quot;opacity(0%)&quot;;
    BatterHitCanvas.style.WebkitFilter = &quot;opacity(0%)&quot;;

    var BallCanvas = document.getElementById(&quot;Ball&quot;);
    BallCanvas.style.top = &quot;80px&quot;;
    BallCanvas.style.left = &quot;330px&quot;;
}

/**
*   This method render the team member select html page with canvas. The size canvas will auto change with user web browser.
**/
export function initSelectTeam()
{
    var screenWidth = document.documentElement.clientWidth;
    var screenHeight = document.documentElement.clientHeight;
    var a = document.getElementById(&quot;SelectMember&quot;);
    a.width = (screenWidth * 0.99);
    a.height = (screenHeight * 0.97);

    var ctx = a.getContext(&quot;2d&quot;);
    ctx.font = &quot;30px Arial&quot;;
    ctx.fillText(&quot;Select your Team member!&quot;,10,50);
    //var img = document.getElementById(&quot;SelectPic&quot;);
    //ctx.drawImage(img,0,0, screenWidth, screenHeight);

    var button = document.getElementById(&quot;startMatch&quot;);
    button.style.left = String(screenWidth * 0.45) + &quot;px&quot;;
    button.style.top = String(screenHeight * 0.8) + &quot;px&quot;;
}


/**
*   change the canvas to see what happend when runner on the base. Not surport in prototype.
**/
var state = false; //After the javascript method complete, change the condition.

export function seeFiled()
{
    if(state == false)
    {
        var screenWidth = document.documentElement.clientWidth;
        var screenHeight = document.documentElement.clientHeight;
        var a = document.getElementById(&quot;filedView&quot;);
        var b = document.getElementById(&quot;batterView&quot;);
        b.style.display = &quot;none&quot;;
        a.style.display = &quot;block&quot;;
        a.width = (screenWidth * 0.74);
        a.height = (screenHeight * 0.73);

        var ctx = a.getContext(&quot;2d&quot;);
        var img = document.getElementById(&quot;filedPic&quot;);
        ctx.drawImage(img,10,10);

        state = true;
    }
    else if(state == true)
    {
        var a = document.getElementById(&quot;filedView&quot;);
        var b = document.getElementById(&quot;batterView&quot;);
        a.style.display = &quot;none&quot;;
        b.style.display = &quot;block&quot;;
        state = false;
    }

}

/**
*   Button method. It will call when batter decide take action.
**/
export function take() {
    hitSelect(&quot;take&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function ssHit() {
    hitSelect(&quot;ss&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function ssPit() {
	pitchSelect(&quot;ss&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function shHit() {
	hitSelect(&quot;sh&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function shPit() {
	pitchSelect(&quot;sh&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function slHit() {
	hitSelect(&quot;sl&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function slPit() {
	pitchSelect(&quot;sl&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function siHit() {
	hitSelect(&quot;si&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function siPit() {
	pitchSelect(&quot;si&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function fsHit() {
	hitSelect(&quot;fs&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function fsPit() {
	pitchSelect(&quot;fs&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function fhHit() {
	hitSelect(&quot;fh&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function fhPit() {
	pitchSelect(&quot;fh&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function flHit() {
	hitSelect(&quot;fl&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function flPit() {
	pitchSelect(&quot;fl&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function fiHit() {
	hitSelect(&quot;fi&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function fiPit() {
	pitchSelect(&quot;fi&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function coHit() {
	hitSelect(&quot;co&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function coPit() {
	pitchSelect(&quot;co&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function chHit() {
	hitSelect(&quot;ch&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function chPit() {
	pitchSelect(&quot;ch&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function clHit() {
	hitSelect(&quot;cl&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function clPit() {
	pitchSelect(&quot;cl&quot;);
}

/**
 *   Button method. It will call when batter decide Slow Straight action.
 **/
export function ciHit() {
	hitSelect(&quot;ci&quot;);
}

/**
 *   Button method. It will call when pitcher decide Slow Straight action.
 **/
export function ciPit() {
	pitchSelect(&quot;ci&quot;);
}

/**
 * Prints the status of the game on the right hand side of the interface
 */
function drawScore() {
	let innStr = &quot;&quot;;
	let innScoreID = &quot;&quot;;
	if (game.inningSide) {
		innStr = &quot;&amp;#9660 &quot;;
		innScoreID = &quot;h&quot; + game.inning;
	}
	else {
		innStr = &quot;&amp;#9650 &quot;;
		innScoreID = &quot;a&quot; + game.inning;

	}
	innStr = innStr + game.inning;

	let countStr = game.balls + &quot;-&quot; + game.strikes + &quot;&lt;br&gt;&quot; + game.outs + &quot; Out&quot;;
	if (game.inning &lt;= 9) {
		let innScore = Number(document.getElementById(innScoreID).innerHTML);
		innScore = innScore + game.lastPitch.runsScored;
		document.getElementById(innScoreID).innerHTML = innScore;
	}


    document.getElementById(&quot;score&quot;).innerHTML = game.visitTeam.runs + &quot;-&quot; + game.homeTeam.runs;
    document.getElementById(&quot;ar&quot;).innerHTML = String(game.visitTeam.runs);
	document.getElementById(&quot;hr&quot;).innerHTML = String(game.homeTeam.runs);
    document.getElementById(&quot;inning&quot;).innerHTML = innStr;
    document.getElementById(&quot;count&quot;).innerHTML = countStr;

    if (game.first) {
        document.getElementById(&quot;firstBase&quot;).style.fillOpacity = &quot;255&quot;;
    }
    else {
	    document.getElementById(&quot;firstBase&quot;).style.fillOpacity = &quot;0&quot;;
    }
	if (game.second) {
		document.getElementById(&quot;secondBase&quot;).style.fillOpacity = &quot;255&quot;;
	}
	else {
		document.getElementById(&quot;secondBase&quot;).style.fillOpacity = &quot;0&quot;;
	}
	if (game.third) {
		document.getElementById(&quot;thirdBase&quot;).style.fillOpacity = &quot;255&quot;;
	}
	else {
		document.getElementById(&quot;thirdBase&quot;).style.fillOpacity = &quot;0&quot;;
	}

	let curHitter = &quot;At Bat:&lt;br&gt;&quot;;
	if (game.inningSide) {
	    curHitter = curHitter + game.homeTeam.lineup[game.homeAB].getPlayerName() + &quot;&amp;nbsp;- &quot; + game.homeTeam.lineup[game.homeAB].getPosition() + &quot;&lt;br&gt;&quot;;
	    curHitter = curHitter + &quot;Strength(s):&quot;;
		if (game.homeTeam.lineup[game.homeAB].getBatStrengths() == []) {
			curHitter = curHitter + &quot; None,&quot;;
		}
	    for (let strength of game.homeTeam.lineup[game.homeAB].getBatStrengths()) {
	    	switch (strength) {
			    case &quot;ss&quot;:
				    curHitter = curHitter + &quot; Slow Straight,&quot;;
				    break;
			    case &quot;sh&quot;:
				    curHitter = curHitter + &quot; Slow High,&quot;;
				    break;
			    case &quot;sl&quot;:
				    curHitter = curHitter + &quot; Slow Low,&quot;;
				    break;
			    case &quot;si&quot;:
				    curHitter = curHitter + &quot; Slow Inside,&quot;;
				    break;
			    case &quot;fs&quot;:
				    curHitter = curHitter + &quot; Fast Straight,&quot;;
				    break;
			    case &quot;fh&quot;:
				    curHitter = curHitter + &quot; Fast High,&quot;;
				    break;
			    case &quot;fl&quot;:
				    curHitter = curHitter + &quot; Fast Low,&quot;;
				    break;
			    case &quot;fi&quot;:
				    curHitter = curHitter + &quot; Fast Inside,&quot;;
				    break;
			    case &quot;co&quot;:
				    curHitter = curHitter + &quot; Curve Outside,&quot;;
				    break;
			    case &quot;ch&quot;:
				    curHitter = curHitter + &quot; Curve High,&quot;;
				    break;
			    case &quot;cl&quot;:
				    curHitter = curHitter + &quot; Curve Low,&quot;;
				    break;
			    case &quot;ci&quot;:
				    curHitter = curHitter + &quot; Curve Inside,&quot;;
				    break;
		    }
	    }
		curHitter = curHitter.slice(0, -1);
    }
	else {
		curHitter = curHitter + game.visitTeam.lineup[game.visitAB].getPlayerName() + &quot;&amp;nbsp;- &quot; + game.visitTeam.lineup[game.visitAB].getPosition() + &quot;&lt;br&gt;&quot;;
		curHitter = curHitter + &quot;Strength(s):&quot;;
		if (game.visitTeam.lineup[game.visitAB].getBatStrengths() == []) {
			curHitter = curHitter + &quot; None,&quot;;
		}
		for (let strength of game.visitTeam.lineup[game.visitAB].getBatStrengths()) {
			switch (strength) {
				case &quot;ss&quot;:
					curHitter = curHitter + &quot; Slow Straight,&quot;;
					break;
				case &quot;sh&quot;:
					curHitter = curHitter + &quot; Slow High,&quot;;
					break;
				case &quot;sl&quot;:
					curHitter = curHitter + &quot; Slow Low,&quot;;
					break;
				case &quot;si&quot;:
					curHitter = curHitter + &quot; Slow Inside,&quot;;
					break;
				case &quot;fs&quot;:
					curHitter = curHitter + &quot; Fast Straight,&quot;;
					break;
				case &quot;fh&quot;:
					curHitter = curHitter + &quot; Fast High,&quot;;
					break;
				case &quot;fl&quot;:
					curHitter = curHitter + &quot; Fast Low,&quot;;
					break;
				case &quot;fi&quot;:
					curHitter = curHitter + &quot; Fast Inside,&quot;;
					break;
				case &quot;co&quot;:
					curHitter = curHitter + &quot; Curve Outside,&quot;;
					break;
				case &quot;ch&quot;:
					curHitter = curHitter + &quot; Curve High,&quot;;
					break;
				case &quot;cl&quot;:
					curHitter = curHitter + &quot; Curve Low,&quot;;
					break;
				case &quot;ci&quot;:
					curHitter = curHitter + &quot; Curve Inside,&quot;;
					break;
			}
		}
		curHitter = curHitter.slice(0, -1);
	}
	document.getElementById(&quot;currentHitter&quot;).innerHTML = curHitter;

	let curPitcher = &quot;Pitching:&lt;br&gt;&quot;;
	if (game.inningSide) {
		curPitcher = curPitcher + game.visitTeam.pitcher.getPlayerName() + &quot;&amp;nbsp;- &quot; + game.visitTeam.pitcher.getPosition() + &quot;&lt;br&gt;&quot;;
	}
	else {
		curPitcher = curPitcher + game.homeTeam.pitcher.getPlayerName() + &quot;&amp;nbsp;- &quot; + game.homeTeam.pitcher.getPosition() + &quot;&lt;br&gt;&quot;;
	}
	document.getElementById(&quot;currentPitcher&quot;).innerHTML = curPitcher;
}

/**
 * Displays the menu for selecting a hit on the bottom of the gui
 */
function displayHitMenu() {
    document.getElementById(&quot;gameLog&quot;).style.display = &quot;none&quot;;
    document.getElementById(&quot;pitcherMenu&quot;).style.display = &quot;none&quot;;
    document.getElementById(&quot;hitterMenu&quot;).style.display = &quot;grid&quot;;
}

/**
 * Displays the menu for selecting a pitch on the bottom of the gui
 */
function displayPitchMenu() {
	document.getElementById(&quot;gameLog&quot;).style.display = &quot;none&quot;;
	document.getElementById(&quot;hitterMenu&quot;).style.display = &quot;none&quot;;
	document.getElementById(&quot;pitcherMenu&quot;).style.display = &quot;grid&quot;;
}

/**
 * Displays the game log on the bottom of the gui
 */
function displayGameLog() {
	document.getElementById(&quot;hitterMenu&quot;).style.display = &quot;none&quot;;
	document.getElementById(&quot;pitcherMenu&quot;).style.display = &quot;none&quot;;
	document.getElementById(&quot;gameLog&quot;).style.display = &quot;grid&quot;;
}

/**
 * Run when the user, acting as the hitter, selects a hit they want to swing for and runs through the game logic and prints to the game log
 * @param action {string} The pitch that the hitter will swing for
 */
function hitSelect(action) {
    displayGameLog();
    let message = &quot;Here&apos;s the pitch...&quot;;
    document.getElementById(&quot;gameLog&quot;).innerHTML = message;
    setTimeout(() =&gt; {
        let roll = Math.floor((Math.random() * 12) + 1);
        switch (roll) {
            case 1:
                game.ssPitch(action);
                break;
            case 2:
                game.shPitch(action);
	            break;
	        case 3:
		        game.slPitch(action);
		        break;
	        case 4:
		        game.siPitch(action);
		        break;
	        case 5:
		        game.fsPitch(action);
		        break;
	        case 6:
		        game.fhPitch(action);
		        break;
	        case 7:
		        game.flPitch(action);
		        break;
	        case 8:
		        game.fiPitch(action);
		        break;
	        case 9:
		        game.coPitch(action);
		        break;
	        case 10:
		        game.chPitch(action);
		        break;
	        case 11:
		        game.clPitch(action);
		        break;
	        case 12:
		        game.ciPitch(action);
		        break;
        }
	    DetermineAnimation();
	    message = log2Print(message);

	    document.getElementById(&quot;gameLog&quot;).innerHTML = message;
	    setTimeout(() =&gt; {
		    message = log3Print(message);
		    drawScore();
		    document.getElementById(&quot;gameLog&quot;).innerHTML = message;
		    setTimeout(() =&gt; {
			    if (game.gameOver) {
				    gameOver();
			    }
		        else if (game.lastPitch.newInning) {
		            displayPitchMenu();
		            if(side == &quot;home&quot;)
		            {
		                side = &quot;away&quot;;
		            }
		            else
		            {
		                side = &quot;home&quot;;
		            }
                }
                else {
		            displayHitMenu();
		            if(side == &quot;home&quot;)
		            {
		                side = &quot;away&quot;;
		            }
		            else
		            {
		                side = &quot;home&quot;;
		            }
                }
            }, 2000);

        }, 2000);

    }, 3000);

}

/**
 * Run when the user, acting as the pitch, selects a pitch they want to throw and runs through the game logic and prints to the game log
 * @param action {string} The pitch that the pitcher will pitch
 */
function pitchSelect(action) {
	displayGameLog();
	let message = &quot;Here&apos;s the pitch...&quot;;
	document.getElementById(&quot;gameLog&quot;).innerHTML = message;
	setTimeout(() =&gt; {
	    const actions = [&quot;ss&quot;, &quot;sh&quot;, &quot;sl&quot;, &quot;si&quot;, &quot;take&quot;, &quot;fs&quot;, &quot;fh&quot;, &quot;fl&quot;, &quot;fi&quot;, &quot;take&quot;, &quot;co&quot;, &quot;ch&quot;, &quot;cl&quot;, &quot;ci&quot;, &quot;take&quot;];
		let roll = Math.floor((Math.random() * 13));
		switch (action) {
			case &quot;ss&quot;:
				game.ssPitch(actions[roll]);
				break;
			case &quot;sh&quot;:
				game.shPitch(actions[roll]);
				break;
			case &quot;sl&quot;:
				game.slPitch(actions[roll]);
				break;
			case &quot;si&quot;:
				game.siPitch(actions[roll]);
				break;
			case &quot;fs&quot;:
				game.fsPitch(actions[roll]);
				break;
			case &quot;fh&quot;:
				game.fhPitch(actions[roll]);
				break;
			case &quot;fl&quot;:
				game.flPitch(actions[roll]);
				break;
			case &quot;fi&quot;:
				game.fiPitch(actions[roll]);
				break;
			case &quot;co&quot;:
				game.coPitch(actions[roll]);
				break;
			case &quot;ch&quot;:
				game.chPitch(actions[roll]);
				break;
			case &quot;cl&quot;:
				game.clPitch(actions[roll]);
				break;
			case &quot;ci&quot;:
				game.ciPitch(actions[roll]);
				break;
		}
        DetermineAnimation();
		message = log2Print(message);

		document.getElementById(&quot;gameLog&quot;).innerHTML = message;
		setTimeout(() =&gt; {
			message = log3Print(message);
			drawScore();
			document.getElementById(&quot;gameLog&quot;).innerHTML = message;
			setTimeout(() =&gt; {
				if (game.gameOver) {
					gameOver();
				}
				else if (game.lastPitch.newInning) {
				    displayHitMenu();
				    if(side == &quot;home&quot;)
				    {
				        side = &quot;away&quot;;
				    }
				    else
				    {
				        side = &quot;home&quot;;
				    }
				}
				else {
				    displayPitchMenu();
				    if(side == &quot;home&quot;)
				    {
				        side = &quot;away&quot;;
				    }
				    else
				    {
				        side = &quot;home&quot;;
				    }
				}
			}, 2000);

		}, 2000);

	}, 3000);
}


function DetermineAnimation()
{
        if( game.lastPitch.play == &quot;homeRun&quot; ||  game.lastPitch.play == &quot;triple&quot;
            ||  game.lastPitch.play == &quot;doubleClear&quot; ||  game.lastPitch.play == &quot;double&quot;
            ||  game.lastPitch.play == &quot;single&quot; ||  game.lastPitch.play == &quot;singleRISP&quot;
            ||  game.lastPitch.play == &quot;singleAdvance&quot; ||  game.lastPitch.play == &quot;error&quot;
            ||  game.lastPitch.play == &quot;flyoutAdv&quot; ||  game.lastPitch.play == &quot;flyoutNoAdv1st&quot;
            ||  game.lastPitch.play == &quot;groundout&quot; ||  game.lastPitch.play == &quot;groundoutAdvIfForced&quot;
            ||  game.lastPitch.play == &quot;groundoutDoublePlay&quot; ||  game.lastPitch.play == &quot;errorSecond&quot;)//groundoutAdvIfForced question
        {
            drawPitchHit(game);
        }
        if( game.lastPitch.play == &quot;foulout&quot;
            ||  game.lastPitch.play == &quot;flyout&quot;
            ||  game.lastPitch.play == &quot;triplePlay&quot;
            ||  game.lastPitch.play == &quot;fieldersChoice&quot;
            ||  game.lastPitch.play == &quot;lineoutDoublePlay&quot;)
        {
            drawSwingOut(game);
        }

        if( game.lastPitch.play == &quot;foul&quot;
            ||  game.lastPitch.play == &quot;calledStrike&quot;
            || game.lastPitch.play == &quot;swingingStrike&quot;)
        {
            drawSwingStrike(game);
        }
        if( game.lastPitch.play == &quot;walk&quot;)
        {
            drawTakeBall(game);//take animation with one base;
        }
        if( game.lastPitch.play == &quot;ball&quot;
            ||  game.lastPitch.play == &quot;strikeoutLooking&quot;)
        {
            drawTakeBall(game);
        }
        batterSound();
}

function gameOver() {
	displayGameLog();
	let message = &quot;That&apos;s your ballgame!&lt;br&gt;&quot;;
	document.getElementById(&quot;gameLog&quot;).innerHTML = message;
	setTimeout(() =&gt; {
		if (game.homeTeam.runs &gt; game.visitTeam.runs) {
			message = message + &quot;The Home team wins by a final score of &quot; + game.homeTeam.runs + &quot; to &quot; + game.visitTeam.runs + &quot;!&lt;br&gt;&quot;;
		}
		else {
			message = message + &quot;The Away team wins by a final score of &quot; + game.visitTeam.runs + &quot; to &quot; + game.homeTeam.runs + &quot;!&lt;br&gt;&quot;;
		}
		message = message + &quot;Thank you for playing Big League Baseball!&lt;br&gt;You can... put it on the boooooaaaaard YES!&quot;;
		document.getElementById(&quot;gameLog&quot;).innerHTML = message;
	}, 2000);
}

var crowdOrgan= true;
function loopCrowdOrgan()//Loops the organ music and crowd clapping. At this point called in PitcherWaitOnload()
{
    if(crowdOrgan)
    {
        setInterval(crowdFx, 80000);//exact time length is 1686421ms
        crowdOrgan= false;
    }
}
var temp;
function crowdFx()
{
    var time =Math.floor(Math.random() * 5);
    while(time===temp)
    {
        var time =Math.floor(Math.random() * 5);
    }
    temp= time;
    if(time== 0)
    {
        document.getElementById(&apos;c1&apos;).play();
        clearInterval(crowdFx);//exact time length is 1686421ms
    }
    if(time== 1)
    {
        document.getElementById(&apos;o1&apos;).play();
    }
    if(time== 2)
    {
        document.getElementById(&apos;o2&apos;).play();
    }
    if(time== 3)
    {
        document.getElementById(&apos;c2&apos;).play();
    }
    if(time== 4)
    {
        document.getElementById(&apos;o4&apos;).play();
    }

    if(time== 7)
    {
        document.getElementById(&apos;7th&apos;).play();
    }
}


var fxCount= true;
function loopCrowdChatter()//Loops the crowd noise. At this point called in PitcherWaitOnload()
{
    if(fxCount)
    {
        setInterval(crowdChatter, .0000001);//exact time length is 1686421ms
        fxCount= false;
    }
    function crowdChatter()
    {
        document.getElementById(&apos;c0&apos;).play();
    }
}

/**
 * Function to print the second line of the game log for both pitching and hitting
 * @param message {string} The string being added to
 * @return {string} The modified string
 */
function log2Print(message) {
	switch (game.lastPitch.play) {
		case &quot;homeRun&quot;:
			message = message + &quot;&lt;br&gt;Swung on, a high fly ball, get up, get outta here, gone! It&apos;s a home run!&quot;;
			break;
		case &quot;triple&quot;:
			message = message + &quot;&lt;br&gt;Swung on, lined into the gap in the outfield! That&apos;s good for a triple!&quot;;
			break;
		case &quot;double&quot;:
		case &quot;doubleClear&quot;:
			message = message + &quot;&lt;br&gt;Swung on, hit hard into the outfield, and the batter will end up at second base!&quot;;
			break;
		case &quot;single&quot;:
		case &quot;singleRISP&quot;:
		case &quot;singleAdvance&quot;:
			message = message + &quot;&lt;br&gt;Swung on, and it&apos;s a base hit. The batter will end up at first.&quot;;
			break;
		case &quot;error&quot;:
			message = message + &quot;&lt;br&gt;Swung on, and misplayed by the defense, the batter will reach on an error!&quot;;
			break;
		case &quot;errorSecond&quot;:
			message = message + &quot;&lt;br&gt;Swung on, hit toward the infield, but they overthrow to first! The batter will reach second on an error!&quot;;
			break;
		case &quot;foulout&quot;:
			message = message + &quot;&lt;br&gt;Popped up into foul territory, the fielder gets under it and makes the out.&quot;;
			break;
		case &quot;flyout&quot;:
			message = message + &quot;&lt;br&gt;Swung on, and it&apos;s a pop fly that the defense takes care of easily.&quot;;
			break;
		case &quot;flyoutAdv&quot;:
		case &quot;flyoutNoAdv1st&quot;:
			message = message + &quot;&lt;br&gt;Swung on, and it&apos;s a pop fly that the outfielder has to hurry to get to, but he makes the play for the out.&quot;;
			break;
		case &quot;groundout&quot;:
		case &quot;groundoutAdvIfForced&quot;:
		case &quot;groundoutDoublePlay&quot;:
		case &quot;fieldersChoice&quot;:
			message = message + &quot;&lt;br&gt;Swung on, ground ball on the infield, and the infielders take care of it.&quot;;
			break;
		case &quot;lineoutDoublePlay&quot;:
		case &quot;triplePlay&quot;:
			message = message + &quot;&lt;br&gt;Swung on, lined right at the infield defense, who makes a nice play to retire the batter.&quot;;
			break;
		case &quot;strikeoutSwinging&quot;:
			message = message + &quot;&lt;br&gt;Swing and a miss, got him to strikeout!&quot;;
			break;
		case &quot;strikeoutLooking&quot;:
			message = message + &quot;&lt;br&gt;Got him looking! He was taking, but the pitcher threw him a strike.&quot;;
			break;
		case &quot;swingingStrike&quot;:
			message = message + &quot;&lt;br&gt;Swing and a miss, that&apos;s a strike.&quot;;
			break;
		case &quot;calledStrike&quot;:
			message = message + &quot;&lt;br&gt;That one&apos;s taken for a strike.&quot;;
			break;
		case &quot;walk&quot;:
			message = message + &quot;&lt;br&gt;That&apos;s ball four, and the batter is on with a walk!&quot;;
			break;
		case &quot;ball&quot;:
			message = message + &quot;&lt;br&gt;That one&apos;s out of the zone, taken for a ball.&quot;;
			break;
		case &quot;foul&quot;:
			message = message + &quot;&lt;br&gt;Swung on, but fouled out of play.&quot;;
			break;
	}
	return message;
}

/**
 * Function to print the third line of the game log for both pitching and hitting
 * @param message {string} The string being added to
 * @return {string} The modified string
 */
function log3Print(message) {
	if (game.lastPitch.newInning) {
		message = message + &quot;&lt;br&gt;That&apos;s it for the inning.&quot;;
	}
	else if (game.lastPitch.newAB) {
		if (game.first &amp;&amp; game.second &amp;&amp; game.third) {
			message = message + &quot;&lt;br&gt;The bases are now loaded with &quot; + game.outs + &quot; outs.&quot;;
		}
		else if (game.first &amp;&amp; game.third) {
			message = message + &quot;&lt;br&gt;Runners are now at the corners with &quot; + game.outs + &quot; outs.&quot;;
		}
		else if (game.first &amp;&amp; game.second) {
			message = message + &quot;&lt;br&gt;Runners are now at first and second with &quot; + game.outs + &quot; outs.&quot;;
		}
		else if (game.second &amp;&amp; game.third) {
			message = message + &quot;&lt;br&gt;Runners are now at second and third with &quot; + game.outs + &quot; outs.&quot;;
		}
		else if (game.first) {
			message = message + &quot;&lt;br&gt;Man on first now with &quot; + game.outs + &quot; outs.&quot;;
		}
		else if (game.second) {
			message = message + &quot;&lt;br&gt;Man on second now with &quot; + game.outs + &quot; outs.&quot;;
		}
		else if (game.third) {
			message = message + &quot;&lt;br&gt;Man on third now with &quot; + game.outs + &quot; outs.&quot;;
		}
		else {
			message = message + &quot;&lt;br&gt;The bases are now empty with &quot; + game.outs + &quot; outs.&quot;;
		}
	}
	else {
		message = message + &quot;&lt;br&gt;&quot; + game.balls + &quot; balls and &quot; + game.strikes + &quot; strikes now.&quot;;
	}
	return message;
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
